(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{381:function(e,t,a){"use strict";var r=a(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(166)).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),"MoreVert");t.default=o},382:function(e,t,a){"use strict";var r=a(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(166)).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"}),n.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"BookmarkBorder");t.default=o},921:function(e,t,a){__NEXT_REGISTER_PAGE("/post",function(){return e.exports=a(942),{page:e.exports.default}})},942:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a.n(r),o=a(0),l=a.n(o),c=(a(46),a(32)),s=a.n(c),i=a(109),p=a(74),u=a(29),m=a(18),f=a.n(m),h=(a(3),a(14)),g=a.n(h),d=a(10),b=a.n(d);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,a,r,n,o,l){try{var c=e[o](l),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function E(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=new u.Client("https://api.steemit.com"),O=function(e){function t(){var e,a,r,n,o,l,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return r=this,a=!(n=(e=w(t)).call.apply(e,[this].concat(i)))||"object"!==y(n)&&"function"!=typeof n?x(r):n,o=x(x(a)),l="state",c={author:a.props.author,profiledesc:"A TravelFeed author."},l in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,a}var a,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,o["Component"]),a=t,(r=[{key:"getProfile",value:function(){var e,t=(e=n.a.mark(function e(){var t,a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.database.getAccounts([this.state.author]);case 2:""!=(t=e.sent)[0].json_metadata&&(a=JSON.parse(t[0].json_metadata),r=""!=a.profile.about?a.profile.about:this.state.profiledesc,this.setState({profiledesc:r}));case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function l(e){v(o,r,n,l,c,"next",e)}function c(e){v(o,r,n,l,c,"throw",e)}l(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"render",value:function(){return l.a.createElement("div",{className:"text-center"},l.a.createElement(b.a,{variant:"h5",className:"p-2"},"Written by:"),l.a.createElement(g.a,{as:"/@".concat(this.props.author),href:"/blog?author=".concat(this.props.author),passHref:!0},l.a.createElement("a",null,l.a.createElement("div",{className:"pb-2"},l.a.createElement("img",{style:{cursor:"pointer"},src:"https://steemitimages.com/u/".concat(this.props.author,"/avatar"),width:"80",height:"80",className:"rounded-circle"})))),l.a.createElement(o.Fragment,null,l.a.createElement("div",null,l.a.createElement(g.a,{as:"/@".concat(this.props.author),href:"/blog?author=".concat(this.props.author),passHref:!0},l.a.createElement("a",null,l.a.createElement(b.a,{variant:"title",className:"text-dark cpointer"},this.props.author)))),l.a.createElement("p",{className:"p-2"},this.state.profiledesc)),l.a.createElement("div",null,l.a.createElement(f.a,{variant:"outlined",size:"small",color:"primary"},"Follow")))}}])&&E(a.prototype,r),c&&E(a,c),t}(),k=a(110),N=a(39),S=a.n(N),P=a(40),T=a.n(P),F=a(169),M=function(e){var t=e.replace(/(?:(?<=(?:src="))|(?:(?<=(?:\())))((?:https|http)?:\/\/.*\.(?:png|jpg|gif|jpeg))(?:(?=["|)]))/gi,"https://steemitimages.com/1000x0/$1").replace(/(?:(?<=[^"|^(|^s|^t]))((?:https|http)?:\/\/.*\.(?:png|jpg|gif|jpeg))(?:(?=[^"|^)]))/gi,'<img src="https://steemitimages.com/1000x0/$1"/>').replace(/^(https:\/\/steemitimages\.com\/0x0\/)/,"");return Object(F.a)(t,{},"text").replace(/https:\/\/steemit.com/gi,"").replace(/(href=)(?=(?:"http))/gi,'rel="nofollow" href=').replace(/(target="_blank" href=)(?=(?:"\/))/gi,"href=").replace(/(?<=\s)(@(?:[a-zA-Z0-9]*))(?=\s|,|!|\?)/gi,'<a href="/$1">$1</a>')},H=a(11),C=a.n(H),z=a(168),L=a.n(z),J=a(48),I=a.n(J),A=a(112),D=a.n(A),$=a(111),R=a.n($),U=a(381),B=a.n(U);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t,a,r,n,o,l){try{var c=e[o](l),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function q(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function l(e){Z(o,r,n,l,c,"next",e)}function c(e){Z(o,r,n,l,c,"throw",e)}l(void 0)})}}function G(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Y=new u.Client("https://api.steemit.com"),ee=function(e){function t(){var e,a,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return r=this,o=(e=W(t)).call.apply(e,[this].concat(c)),a=!o||"object"!==V(o)&&"function"!=typeof o?K(r):o,Q(K(K(a)),"state",{author:a.props.author,permlink:a.props.permlink,error:!1,hasMore:!0,isLoading:!1,stream:[]}),Q(K(K(a)),"streamComments",q(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.prev=1,e.next=4,Y.database.call("get_content_replies",[a.state.author,a.state.permlink]);case 4:t=e.sent,a.setState({stream:t,isLoading:!1,hasMore:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({error:e.t0.message,isLoading:!1});case 11:case"end":return e.stop()}},e,this,[[1,8]])}))),a}var a,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,o["Component"]),a=t,(r=[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(){var t=e.streamComments,a=e.state,r=a.error,n=a.isLoading,o=a.hasMore;r||n||!o||window.innerHeight+document.documentElement.scrollTop===document.documentElement.scrollHeight&&t()}}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoading;return l.a.createElement(o.Fragment,null,this.state.stream.map(function(e){if(1!=Object(p.a)(e.author,"none")){var t=e.body.replace(/(?:(?<=(?:src="))|(?:(?<=(?:\())))((?:https|http)?:\/\/.*\.(?:png|jpg|gif|jpeg))(?:(?=["|)]))/gi,"https://steemitimages.com/1000x0/$1").replace(/(?:(?<=[^"|^(|^s|^t]))((?:https|http)?:\/\/.*\.(?:png|jpg|gif|jpeg))(?:(?=[^"|^)]))/gi,'<img src="https://steemitimages.com/1000x0/$1"/>').replace(/^(https:\/\/steemitimages\.com\/0x0\/)/,""),a={__html:M(t,{},"text").replace(/https:\/\/steemit.com/gi,"").replace(/(href=)(?=(?:"http))/gi,'rel="nofollow" href=').replace(/(target="_blank" href=)(?=(?:"\/))/gi,"href=")},r='{ "date": "'+e.created+'Z" }',n=new Date(JSON.parse(r,k.a).date).toDateString();return l.a.createElement(o.Fragment,null,l.a.createElement(S.a,{className:"mb-3"},l.a.createElement(R.a,{avatar:l.a.createElement(g.a,{as:"/@".concat(e.author),href:"/blog?author=".concat(e.author),passHref:!0},l.a.createElement("a",null,l.a.createElement(D.a,{className:"cpointer",src:"https://steemitimages.com/u/".concat(e.author,"/avatar/small")}))),action:l.a.createElement(I.a,null,l.a.createElement(B.a,null)),title:l.a.createElement(o.Fragment,null,l.a.createElement(g.a,{as:"/@".concat(e.author),href:"/blog?author=".concat(e.author),passHref:!0},l.a.createElement("a",{className:"text-dark cpointer"},e.author))),subheader:n}),l.a.createElement(T.a,null,l.a.createElement("div",{className:"postcontent",dangerouslySetInnerHTML:a}))))}}),!t&&l.a.createElement(b.a,null,t),a&&l.a.createElement(C.a,{item:!0,xs:1},l.a.createElement(L.a,null)))}}])&&G(a.prototype,r),c&&G(a,c),t}(),te=a(75),ae=a.n(te),re=a(167),ne=a.n(re),oe=a(91),le=a.n(oe),ce=a(382),se=a.n(ce);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t,a,r,n,o,l){try{var c=e[o](l),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function ue(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=new u.Client("https://api.steemit.com"),de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,fe(t).apply(this,arguments))}var a,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,o["Component"]),a=t,r=[{key:"render",value:function(){if(0===this.props.blog.post.id)return l.a.createElement(o.Fragment,null,l.a.createElement(C.a,{container:!0,spacing:0,alignItems:"center",justify:"center"},l.a.createElement(C.a,{item:!0,lg:7,md:8,sm:11,xs:12},l.a.createElement(S.a,null,l.a.createElement(T.a,null,l.a.createElement(b.a,null,"This post does not exist on TravelFeed yet."))))));if(void 0!==this.props.blog.post.blacklisted||this.props.blog.post.readtime.words<250)return l.a.createElement(o.Fragment,null,l.a.createElement(C.a,{container:!0,spacing:0,alignItems:"center",justify:"center"},l.a.createElement(C.a,{item:!0,lg:7,md:8,sm:11,xs:12},l.a.createElement(S.a,null,l.a.createElement(T.a,null,l.a.createElement(b.a,null,"This post or author is blacklisted from TravelFeed."))))));var e=this.props.blog.post.author.replace(/^\w/,function(e){return e.toUpperCase()});return l.a.createElement(o.Fragment,null,l.a.createElement(s.a,null,l.a.createElement("title",null,this.props.blog.post.title+" - "+e+"'s Blog on TravelFeed"),l.a.createElement("link",{rel:"canonical",href:this.props.blog.post.canonicalUrl}),l.a.createElement("meta",{property:"description",content:this.props.blog.post.excerpt}),l.a.createElement("meta",{property:"og:title",content:this.props.blog.post.title+" - TravelFeed"}),l.a.createElement("meta",{property:"og:type",content:"article"}),l.a.createElement("meta",{property:"og:url",content:"https://travelfeed.io/@"+this.props.blog.post.author+"/"+this.props.blog.post.permlink}),l.a.createElement("meta",{property:"og:image",content:this.props.blog.post.image}),l.a.createElement("meta",{property:"og:description",content:this.props.blog.post.excerpt}),l.a.createElement("meta",{property:"twitter:card",content:this.props.blog.post.image?"summary_large_image":"summary"}),l.a.createElement("meta",{property:"twitter:title",content:this.props.blog.post.title+" - TravelFeed"}),l.a.createElement("meta",{property:"twitter:description",content:this.props.blog.post.excerpt}),l.a.createElement("meta",{property:"twitter:image",content:this.props.blog.post.image})),l.a.createElement(o.Fragment,null,l.a.createElement(C.a,{container:!0,spacing:0,className:"pt-4",alignItems:"center",justify:"center"},l.a.createElement(C.a,{item:!0,lg:7,md:8,sm:11,xs:12,className:"pb-4"},l.a.createElement(S.a,null,l.a.createElement(R.a,{avatar:l.a.createElement(g.a,{as:"/@".concat(this.props.blog.post.author),href:"/blog?author=".concat(this.props.blog.post.author),passHref:!0,prefetch:!0},l.a.createElement("a",null,l.a.createElement(D.a,{className:"cpointer",src:"https://steemitimages.com/u/".concat(this.props.blog.post.author,"/avatar/small")}))),action:l.a.createElement(I.a,null,l.a.createElement(se.a,null)),title:l.a.createElement(o.Fragment,null,l.a.createElement(g.a,{as:"/@".concat(this.props.blog.post.author),href:"/blog?author=".concat(this.props.blog.post.author),passHref:!0},l.a.createElement("a",{className:"text-dark cpointer"},this.props.blog.post.author)),l.a.createElement(f.a,{variant:"outlined",size:"small",color:"primary",className:"ml-2 p-0"},"Follow")),subheader:this.props.blog.post.created+" | "+this.props.blog.post.readtime.text}),l.a.createElement(T.a,null,l.a.createElement(b.a,{variant:"display1",className:"text-dark font-weight-bold"},this.props.blog.post.title),l.a.createElement("hr",null),l.a.createElement("div",{className:"postcontent",dangerouslySetInnerHTML:this.props.blog.post.bodyText}),l.a.createElement("hr",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-lg-6 col-md-9 col-sm-12"},l.a.createElement(O,{author:this.props.blog.post.author})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2 p-0"},l.a.createElement(I.a,{"aria-label":"Upvote"},l.a.createElement(le.a,{className:"mr"})),l.a.createElement("span",{className:"text-muted font-weight-bold"},this.props.blog.post.totalmiles)),l.a.createElement("div",{className:"col-10 text-right p-0 pt-2"},this.props.blog.post.tags.map(function(e){return l.a.createElement(g.a,{as:"/created/".concat(e),href:"/tag?sortby=created&tag=".concat(e),key:e,passHref:!0},l.a.createElement("a",null,l.a.createElement("span",{className:"badge badge-secondary m-1 p-1 pl-2 pr-2 rounded cpointer"},e)))}))))))),l.a.createElement(C.a,{item:!0,lg:6,md:7,sm:10,xs:11,className:"pb-2"},l.a.createElement(ee,{author:this.props.blog.post.author,permlink:this.props.blog.post.permlink})))))}}],c=[{key:"getInitialProps",value:function(){var e,t=(e=n.a.mark(function e(t){var a,r,o,l,c,s,u,m,f,h,g,d,b,y,v,E,w,_,x,j,O,N;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.query.author,r=t.query.permlink,!0!==Object(p.a)(a,r)){e.next=5;break}return o={post:{blacklisted:!0}},e.abrupt("return",{blog:o});case 5:return e.next=7,ge.call("condenser_api","get_content",[a,r]);case 7:if(0!==(l=e.sent).id&&JSON.parse(l.json_metadata).tags.indexOf("travelfeed")>-1!=!1){e.next=11;break}return c={post:{id:0}},e.abrupt("return",{blog:c});case 11:if(0!==l.id&&JSON.parse(l.json_metadata).tags.indexOf("nsfw")>-1!=!0){e.next=14;break}return s={post:{blacklisted:!0}},e.abrupt("return",{blog:s});case 14:for(u=JSON.parse(l.json_metadata),m="undefined"!=u.tags?u.tags:[""],f='{ "date": "'+l.created+'Z" }',h=new Date(JSON.parse(f,k.a).date),g=h.toDateString(),d=Object(i.a)(l.json_metadata,l.body,"1000x0"),b=M(l.body),y={__html:b},v=l.title.length>100?l.title.substring(0,96)+"[...]":l.title,E="https://steemit.com/travelfeed/@"+l.author+"/"+l.permlink,w=ae()(b,{allowedTags:[]}),_=ne()(w),x=w.substring(0,143)+"[...] by ".concat(l.author),j=0,O=0;O<l.active_votes.length;O++)j+=Math.round(l.active_votes[O].percent/1e3);return N={post:{permlink:l.permlink,author:l.author,title:l.title,tags:m,created:g,image:d,bodyText:y,excerpt:x,excerpt_title:v,canonicalUrl:E,readtime:_,totalmiles:j}},e.abrupt("return",{blog:N});case 31:case"end":return e.stop()}},e,this)}),function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function l(e){pe(o,r,n,l,c,"next",e)}function c(e){pe(o,r,n,l,c,"throw",e)}l(void 0)})});return function(e){return t.apply(this,arguments)}}()}],r&&ue(a.prototype,r),c&&ue(a,c),t}();t.default=de}},[[921,1,0]]]);